// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{210:function(e,t,i){"use strict";i.r(t),i.d(t,"plotAdminGraphs",(function(){return a})),i.d(t,"initHomepageGraphs",(function(){return r})),i.d(t,"initPublishersGraph",(function(){return s})),i.d(t,"init",(function(){return l}));var o=i(411),n={series:{stack:0,bars:{show:!0,align:"left",barWidth:72e6}},grid:{hoverable:!0,show:!0,borderWidth:1,borderColor:"#d9d9d9"},xaxis:{mode:"time"},legend:{show:!0,position:"nw"}};function a(){Object(o.b)("editgraph",{},"edit(s) on"),Object(o.b)("membergraph",{},"new members(s) on"),Object(o.b)("works_minigraph",{}," works on "),Object(o.b)("editions_minigraph",{}," editions on "),Object(o.b)("covers_minigraph",{}," covers on "),Object(o.b)("authors_minigraph",{}," authors on "),Object(o.b)("lists_minigraph",{}," lists on "),Object(o.b)("members_minigraph",{}," members on "),Object(o.b)("books-added-per-day",n)}function r(){Object(o.b)("visitors-graph",{},"unique visitors on","#e44028"),Object(o.b)("members-graph",{},"new members on","#748d36"),Object(o.b)("edits-graph",{},"catalog edits on","#00636a"),Object(o.b)("lists-graph",{},"lists created on","#ffa337"),Object(o.b)("ebooks-graph",{},"ebooks borrowed on","#35672e")}function s(){document.getElementById("chartPubHistory")&&Object(o.a)("chartPubHistory",{},"editions in")}function l(){a(),r(),s()}},228:function(e,t,i){"use strict";var o=i(10),n=i(2),a=i(66),r=i(18),s=i(9),l=i(19),c=i(155),u=i(49),d=i(4),h=i(65),p=i(50).f,f=i(47).f,g=i(11).f,m=i(69).trim,x=n.Number,b=x.prototype,v="Number"==l(h(b)),y=function(e){var t,i,o,n,a,r,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=m(c)).charCodeAt(0))||45===t){if(88===(i=c.charCodeAt(2))||120===i)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:o=2,n=49;break;case 79:case 111:o=8,n=55;break;default:return+c}for(r=(a=c.slice(2)).length,s=0;s<r;s++)if((l=a.charCodeAt(s))<48||l>n)return NaN;return parseInt(a,o)}return+c};if(a("Number",!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var k,w=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof w&&(v?d((function(){b.valueOf.call(i)})):"Number"!=l(i))?c(new x(y(t)),i,w):y(t)},M=o?p(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;M.length>T;T++)s(x,k=M[T])&&!s(w,k)&&g(w,k,f(x,k));w.prototype=b,b.constructor=w,r(n,"Number",w)}},243:function(e,t,i){var o=i(1),n=i(413),a=i(67);o({target:"Array",proto:!0},{fill:n}),a("fill")},411:function(e,t,i){"use strict";(function(e,o){i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));i(38),i(23),i(154),i(412),i(414),i(415),i(416),i(417);function n(){var t,i,n,a,r,s,l;function c(t,i,o){e('<div id="chartLabel">'.concat(o,"</div>")).css({position:"absolute",display:"none",top:i+12,left:t+12,border:"1px solid #615132",padding:"2px","background-color":"#fffdcd",color:"#615132","font-size":"11px",opacity:.9}).appendTo("body").customFadeIn(200)}t=[{data:JSON.parse(document.getElementById("graph-json-chartPubHistory").textContent)}],i={series:{bars:{show:!0,fill:.6,color:"#615132",align:"center"},points:{show:!0},color:"#615132"},grid:{hoverable:!0,clickable:!0,autoHighlight:!0,tickColor:"#d9d9d9",borderWidth:1,borderColor:"#d9d9d9",backgroundColor:"#fff"},xaxis:{tickDecimals:0},yaxis:{tickDecimals:0},selection:{mode:"xy",color:"#00636a"},crosshair:{mode:"xy",color:"rgba(000, 099, 106, 0.4)",lineWidth:1}},n=e("#chartPubHistory"),l=null,n.bind("plothover",(function(t,i,o){var n,a;e("#x").text(i.x.toFixed(0)),e("#y").text(i.y.toFixed(0)),o?l!=o.datapoint&&(l=o.datapoint,e("#chartLabel").remove(),n=o.datapoint[0].toFixed(0),a=o.datapoint[1].toFixed(0),c(o.pageX,o.pageY,1==a?"".concat(a," edition in ").concat(n):"".concat(a," editions in ").concat(n))):(e("#chartLabel").remove(),l=null)})),r=(a=e.plot(n,t,i)).getAxes().xaxis.min.toFixed(0),s=a.getAxes().xaxis.max.toFixed(0),o.support.opacity?e(".chartYaxis").css({top:"60px",left:"-60px"}):e(".chartYaxis").css({top:"0",left:"0"}),r==s-1?e(".clickdata").text("Published in ".concat(r)):e(".clickdata").text("Published between ".concat(r," & ").concat(s-1,"."))}function a(t,i,o){var n,a,r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#748d36";if(i.length){for(n=0;n<i.length;++n)i[n][0]+=36e5;return a={series:{bars:{show:!0,fill:1,fillColor:s,color:s,align:"left",barWidth:864e5},points:{show:!1},color:s},grid:{hoverable:!0,show:!1},xaxis:{mode:"time"}},r=e.plot(t,[i],a),t.bind("plothover",(function(t,i,n){var a,r,s;e("#x").text(i.x),e("#y").text(i.y.toFixed(0)),n?(e("#chartLabelA").remove(),a=n.datapoint[0],r=new Date(a).toDateString(),s=n.datapoint[1].toFixed(0),l(n.pageX,n.pageY,"".concat(s," ").concat(o," ").concat(r))):e("#chartLabelA").remove()})),r}function l(t,i,o){e('<div id="chartLabelA">'.concat(o,"</div>")).css({position:"absolute",display:"none",top:i+12,left:t+12,border:"1px solid #ccc",padding:"2px",backgroundColor:"#efefef",color:"#454545",fontSize:"11px",webkitBoxShadow:"1px 1px 3px #333",mozBoxShadow:"1px 1px 1px #000",boxShadow:"1px 1px 1px #000"}).appendTo("body").fadeIn(200)}}function r(t,i,o,n){e("#".concat(t)).length&&function(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=document.getElementById(t),l="graph-json-".concat(t),c=document.getElementById(l);if(!s)throw new Error("No graph associated with ".concat(t," on the page."));if(c){try{i=JSON.parse(c.textContent)}catch(e){throw new Error("Unable to parse JSON in ".concat(l))}return n?a(e(s),i,n,r):e.plot(e(s),i,o)}throw new Error("No data associated with ".concat(t,' - make sure a script tag with type text/json and id "').concat(l,'" is present on the page.'))}(t,i,o,n)}}).call(this,i(0),i(0))},412:function(e,t,o){"use strict";(function(e){o(149),o(150),o(151),o(38),o(243),o(12),o(96),o(17),o(51),o(98),o(228),o(154),o(37),o(97),o(48),o(5),o(39),o(146),o(15),o(71),o(42),o(147);function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*! Javascript plotting library for jQuery, v. 0.7.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */!function(e){e.color={},e.color.make=function(t,i,o,n){var a={};return a.r=t||0,a.g=i||0,a.b=o||0,a.a=null!=n?n:1,a.add=function(e,t){for(var i=0;i<e.length;++i)a[e.charAt(i)]+=t;return a.normalize()},a.scale=function(e,t){for(var i=0;i<e.length;++i)a[e.charAt(i)]*=t;return a.normalize()},a.toString=function(){return a.a>=1?"rgb("+[a.r,a.g,a.b].join(",")+")":"rgba("+[a.r,a.g,a.b,a.a].join(",")+")"},a.normalize=function(){function e(e,t,i){return t<e?e:t>i?i:t}return a.r=e(0,parseInt(a.r),255),a.g=e(0,parseInt(a.g),255),a.b=e(0,parseInt(a.b),255),a.a=e(0,a.a,1),a},a.clone=function(){return e.color.make(a.r,a.b,a.g,a.a)},a.normalize()},e.color.extract=function(t,i){var o;do{if(""!=(o=t.css(i).toLowerCase())&&"transparent"!=o)break;t=t.parent()}while(!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==o&&(o="transparent"),e.color.parse(o)},e.color.parse=function(i){var o,n=e.color.make;if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return n(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10));if(o=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return n(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10),parseFloat(o[4]));if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return n(2.55*parseFloat(o[1]),2.55*parseFloat(o[2]),2.55*parseFloat(o[3]));if(o=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return n(2.55*parseFloat(o[1]),2.55*parseFloat(o[2]),2.55*parseFloat(o[3]),parseFloat(o[4]));if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return n(parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16));if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return n(parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16));var a=e.trim(i).toLowerCase();return"transparent"==a?n(255,255,255,0):n((o=t[a]||[0,0,0])[0],o[1],o[2])};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(e),function(e){function o(o,a,r,s){var l=[],c={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},u=null,d=null,h=null,p=null,f=null,g=[],m=[],x={left:0,right:0,top:0,bottom:0},b=0,v=0,y=0,k=0,w={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},M=this;function T(e,t){t=[M].concat(t);for(var i=0;i<e.length;++i)e[i].apply(this,t)}function S(t){l=function(t){for(var i=[],o=0;o<t.length;++o){var n=e.extend(!0,{},c.series);null!=t[o].data?(n.data=t[o].data,delete t[o].data,e.extend(!0,n,t[o]),t[o].data=n.data):n.data=t[o],i.push(n)}return i}(t),function(){var t,i=l.length,o=[],n=[];for(t=0;t<l.length;++t){var a=l[t].color;null!=a&&(--i,"number"==typeof a?n.push(a):o.push(e.color.parse(l[t].color)))}for(t=0;t<n.length;++t)i=Math.max(i,n[t]+1);var r=[],s=0;t=0;for(;r.length<i;){var u;u=c.colors.length==t?e.color.make(100,100,100):e.color.parse(c.colors[t]);var d=s%2==1?-1:1;u.scale("rgb",1+d*Math.ceil(s/2)*.2),r.push(u),++t>=c.colors.length&&(t=0,++s)}var h,p=0;for(t=0;t<l.length;++t){if(null==(h=l[t]).color?(h.color=r[p].toString(),++p):"number"==typeof h.color&&(h.color=r[h.color].toString()),null==h.lines.show){var f,x=!0;for(f in h)if(h[f]&&h[f].show){x=!1;break}x&&(h.lines.show=!0)}h.xaxis=P(g,C(h,"x")),h.yaxis=P(m,C(h,"y"))}}(),function(){var t,i,o,n,a,r,s,c,u,d,h=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,f=Number.MAX_VALUE;function g(e,t,i){t<e.datamin&&t!=-f&&(e.datamin=t),i>e.datamax&&i!=f&&(e.datamax=i)}for(e.each(A(),(function(e,t){t.datamin=h,t.datamax=p,t.used=!1})),t=0;t<l.length;++t)(a=l[t]).datapoints={points:[]},T(w.processRawData,[a,a.data,a.datapoints]);for(t=0;t<l.length;++t){var m=(a=l[t]).data,x=a.datapoints.format;if(x||((x=[]).push({x:!0,number:!0,required:!0}),x.push({y:!0,number:!0,required:!0}),(a.bars.show||a.lines.show&&a.lines.fill)&&(x.push({y:!0,number:!0,required:!1,defaultValue:0}),a.bars.horizontal&&(delete x[x.length-1].y,x[x.length-1].x=!0)),a.datapoints.format=x),null==a.datapoints.pointsize)for(a.datapoints.pointsize=x.length,s=a.datapoints.pointsize,r=a.datapoints.points,insertSteps=a.lines.show&&a.lines.steps,a.xaxis.used=a.yaxis.used=!0,i=o=0;i<m.length;++i,o+=s){var b=null==(d=m[i]);if(!b)for(n=0;n<s;++n)c=d[n],(u=x[n])&&(u.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=f:c==-1/0&&(c=-f)),null==c&&(u.required&&(b=!0),null!=u.defaultValue&&(c=u.defaultValue))),r[o+n]=c;if(b)for(n=0;n<s;++n)null!=(c=r[o+n])&&((u=x[n]).x&&g(a.xaxis,c,c),u.y&&g(a.yaxis,c,c)),r[o+n]=null;else if(insertSteps&&o>0&&null!=r[o-s]&&r[o-s]!=r[o]&&r[o-s+1]!=r[o+1]){for(n=0;n<s;++n)r[o+s+n]=r[o+n];r[o+1]=r[o-s+1],o+=s}}}for(t=0;t<l.length;++t)a=l[t],T(w.processDatapoints,[a,a.datapoints]);for(t=0;t<l.length;++t){a=l[t],r=a.datapoints.points,s=a.datapoints.pointsize;var v=h,y=h,k=p,M=p;for(i=0;i<r.length;i+=s)if(null!=r[i])for(n=0;n<s;++n)c=r[i+n],(u=x[n])&&c!=f&&c!=-f&&(u.x&&(c<v&&(v=c),c>k&&(k=c)),u.y&&(c<y&&(y=c),c>M&&(M=c)));if(a.bars.show){var S="left"==a.bars.align?0:-a.bars.barWidth/2;a.bars.horizontal?(y+=S,M+=S+a.bars.barWidth):(v+=S,k+=S+a.bars.barWidth)}g(a.xaxis,v,k),g(a.yaxis,y,M)}e.each(A(),(function(e,t){t.datamin==h&&(t.datamin=null),t.datamax==p&&(t.datamax=null)}))}()}function C(e,i){var o=e[i+"axis"];return"object"==t(o)&&(o=o.n),"number"!=typeof o&&(o=1),o}function A(){return e.grep(g.concat(m),(function(e){return e}))}function I(e){var t,i,o={};for(t=0;t<g.length;++t)(i=g[t])&&i.used&&(o["x"+i.n]=i.c2p(e.left));for(t=0;t<m.length;++t)(i=m[t])&&i.used&&(o["y"+i.n]=i.c2p(e.top));return void 0!==o.x1&&(o.x=o.x1),void 0!==o.y1&&(o.y=o.y1),o}function P(t,i){return t[i-1]||(t[i-1]={n:i,direction:t==g?"x":"y",options:e.extend(!0,{},t==g?c.xaxis:c.yaxis)}),t[i-1]}function O(t,i){var n=document.createElement("canvas");return n.className=i,n.width=b,n.height=v,t||e(n).css({position:"absolute",left:0,top:0}),e(n).appendTo(o),n.getContext||(n=window.G_vmlCanvasManager.initElement(n)),n.getContext("2d").save(),n}function z(){if(b=o.width(),v=o.height(),b<=0||v<=0)throw"Invalid dimensions for plot, width = "+b+", height = "+v}function N(e){e.width!=b&&(e.width=b),e.height!=v&&(e.height=v);var t=e.getContext("2d");t.restore(),t.save()}function W(t){var i=t.labelWidth,o=t.labelHeight,n=t.options.position,a=t.options.tickLength,r=c.grid.axisMargin,s=c.grid.labelMargin,l="x"==t.direction?g:m,u=e.grep(l,(function(e){return e&&e.options.position==n&&e.reserveSpace}));e.inArray(t,u)==u.length-1&&(r=0),null==a&&(a="full");var d=e.grep(l,(function(e){return e&&e.reserveSpace})),h=0==e.inArray(t,d);h||"full"!=a||(a=5),isNaN(+a)||(s+=+a),"x"==t.direction?(o+=s,"bottom"==n?(x.bottom+=o+r,t.box={top:v-x.bottom,height:o}):(t.box={top:x.top+r,height:o},x.top+=o+r)):(i+=s,"left"==n?(t.box={left:x.left+r,width:i},x.left+=i+r):(x.right+=i+r,t.box={left:b-x.right,width:i})),t.position=n,t.tickLength=a,t.box.padding=s,t.innermost=h}function F(){var i,a=A();if(e.each(a,(function(e,t){t.show=t.options.show,null==t.show&&(t.show=t.used),t.reserveSpace=t.show||t.options.reserveSpace,function(e){var t=e.options,i=+(null!=t.min?t.min:e.datamin),o=+(null!=t.max?t.max:e.datamax),n=o-i;if(0==n){var a=0==o?1:.01;null==t.min&&(i-=a),null!=t.max&&null==t.min||(o+=a)}else{var r=t.autoscaleMargin;null!=r&&(null==t.min&&(i-=n*r)<0&&null!=e.datamin&&e.datamin>=0&&(i=0),null==t.max&&(o+=n*r)>0&&null!=e.datamax&&e.datamax<=0&&(o=0))}e.min=i,e.max=o}(t)})),allocatedAxes=e.grep(a,(function(e){return e.reserveSpace})),x.left=x.right=x.top=x.bottom=0,c.grid.show){for(e.each(allocatedAxes,(function(i,a){!function(t){var i,o=t.options;i="number"==typeof o.ticks&&o.ticks>0?o.ticks:.3*Math.sqrt("x"==t.direction?b:v);var a,r,s,l,c,u,d=(t.max-t.min)/i;if("time"==o.mode){var h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},p=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],f=0;null!=o.minTickSize&&(f="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*h[o.minTickSize[1]]);for(var x=0;x<p.length-1&&!(d<(p[x][0]*h[p[x][1]]+p[x+1][0]*h[p[x+1][1]])/2&&p[x][0]*h[p[x][1]]>=f);++x);a=p[x][0],"year"==(s=p[x][1])&&(c=Math.pow(10,Math.floor(Math.log(d/h.year)/Math.LN10)),a=(u=d/h.year/c)<1.5?1:u<3?2:u<7.5?5:10,a*=c),t.tickSize=o.tickSize||[a,s],r=function(e){var t=[],i=e.tickSize[0],o=e.tickSize[1],a=new Date(e.min),r=i*h[o];"second"==o&&a.setUTCSeconds(n(a.getUTCSeconds(),i)),"minute"==o&&a.setUTCMinutes(n(a.getUTCMinutes(),i)),"hour"==o&&a.setUTCHours(n(a.getUTCHours(),i)),"month"==o&&a.setUTCMonth(n(a.getUTCMonth(),i)),"year"==o&&a.setUTCFullYear(n(a.getUTCFullYear(),i)),a.setUTCMilliseconds(0),r>=h.minute&&a.setUTCSeconds(0),r>=h.hour&&a.setUTCMinutes(0),r>=h.day&&a.setUTCHours(0),r>=4*h.day&&a.setUTCDate(1),r>=h.year&&a.setUTCMonth(0);var s,l=0,c=Number.NaN;do{if(s=c,c=a.getTime(),t.push(c),"month"==o)if(i<1){a.setUTCDate(1);var u=a.getTime();a.setUTCMonth(a.getUTCMonth()+1);var d=a.getTime();a.setTime(c+l*h.hour+(d-u)*i),l=a.getUTCHours(),a.setUTCHours(0)}else a.setUTCMonth(a.getUTCMonth()+i);else"year"==o?a.setUTCFullYear(a.getUTCFullYear()+i):a.setTime(c+r)}while(c<e.max&&c!=s);return t},l=function(t,i){var n=new Date(t);if(null!=o.timeformat)return e.plot.formatDate(n,o.timeformat,o.monthNames);var a=i.tickSize[0]*h[i.tickSize[1]],r=i.max-i.min,s=o.twelveHourClock?" %p":"";return fmt=a<h.minute?"%h:%M:%S"+s:a<h.day?r<2*h.day?"%h:%M"+s:"%b %d %h:%M"+s:a<h.month?"%b %d":a<h.year?r<h.year?"%b":"%b %y":"%y",e.plot.formatDate(n,fmt,o.monthNames)}}else{var y=o.tickDecimals,k=-Math.floor(Math.log(d)/Math.LN10);null!=y&&k>y&&(k=y),c=Math.pow(10,-k),(u=d/c)<1.5?a=1:u<3?(a=2,u>2.25&&(null==y||k+1<=y)&&(a=2.5,++k)):a=u<7.5?5:10,a*=c,null!=o.minTickSize&&a<o.minTickSize&&(a=o.minTickSize),t.tickDecimals=Math.max(0,null!=y?y:k),t.tickSize=o.tickSize||a,r=function(e){var t,i=[],o=n(e.min,e.tickSize),a=0,r=Number.NaN;do{t=r,r=o+a*e.tickSize,i.push(r),++a}while(r<e.max&&r!=t);return i},l=function(e,t){return e.toFixed(t.tickDecimals)}}if(null!=o.alignTicksWithAxis){var w=("x"==t.direction?g:m)[o.alignTicksWithAxis-1];if(w&&w.used&&w!=t){var M=r(t);if(M.length>0&&(null==o.min&&(t.min=Math.min(t.min,M[0])),null==o.max&&M.length>1&&(t.max=Math.max(t.max,M[M.length-1]))),r=function(e){var t,i,o=[];for(i=0;i<w.ticks.length;++i)t=(w.ticks[i].v-w.min)/(w.max-w.min),t=e.min+t*(e.max-e.min),o.push(t);return o},"time"!=t.mode&&null==o.tickDecimals){var T=Math.max(0,1-Math.floor(Math.log(d)/Math.LN10)),S=r(t);S.length>1&&/\..*0$/.test((S[1]-S[0]).toFixed(T))||(t.tickDecimals=T)}}}t.tickGenerator=r,e.isFunction(o.tickFormatter)?t.tickFormatter=function(e,t){return""+o.tickFormatter(e,t)}:t.tickFormatter=l}(a),function(i){var o,n,a=i.options.ticks,r=[];null==a||"number"==typeof a&&a>0?r=i.tickGenerator(i):a&&(r=e.isFunction(a)?a({min:i.min,max:i.max}):a);for(i.ticks=[],o=0;o<r.length;++o){var s=null,l=r[o];"object"==t(l)?(n=+l[0],l.length>1&&(s=l[1])):n=+l,null==s&&(s=i.tickFormatter(n,i)),isNaN(n)||i.ticks.push({v:n,label:s})}}(a),function(e,t){e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v)),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v)))}(a,a.ticks),function(t){var i,n,a,r=t.options,s=t.ticks||[],l=[],c=r.labelWidth,u=r.labelHeight;function d(i,n){return e('<div style="position:absolute;top:-10000px;'+n+'font-size:smaller"><div class="'+t.direction+"Axis "+t.direction+t.n+'Axis">'+i.join("")+"</div></div>").appendTo(o)}if("x"==t.direction){if(null==c&&(c=Math.floor(b/(s.length>0?s.length:1))),null==u){for(l=[],i=0;i<s.length;++i)(n=s[i].label)&&l.push('<div class="tickLabel" style="float:left;width:'+c+'px">'+n+"</div>");l.length>0&&(l.push('<div style="clear:left"></div>'),u=(a=d(l,"width:10000px;")).height(),a.remove())}}else if(null==c||null==u){for(i=0;i<s.length;++i)(n=s[i].label)&&l.push('<div class="tickLabel">'+n+"</div>");l.length>0&&(a=d(l,""),null==c&&(c=a.children().width()),null==u&&(u=a.find("div.tickLabel").height()),a.remove())}null==c&&(c=0),null==u&&(u=0),t.labelWidth=c,t.labelHeight=u}(a)})),i=allocatedAxes.length-1;i>=0;--i)W(allocatedAxes[i]);var r=c.grid.minBorderMargin;if(null==r)for(r=0,i=0;i<l.length;++i)r=Math.max(r,l[i].points.radius+l[i].points.lineWidth/2);for(var s in x)x[s]+=c.grid.borderWidth,x[s]=Math.max(r,x[s])}y=b-x.left-x.right,k=v-x.bottom-x.top,e.each(a,(function(e,t){!function(e){function t(e){return e}var i,o,n=e.options.transform||t,a=e.options.inverseTransform;"x"==e.direction?(i=e.scale=y/Math.abs(n(e.max)-n(e.min)),o=Math.min(n(e.max),n(e.min))):(i=-(i=e.scale=k/Math.abs(n(e.max)-n(e.min))),o=Math.max(n(e.max),n(e.min))),e.p2c=n==t?function(e){return(e-o)*i}:function(e){return(n(e)-o)*i},e.c2p=a?function(e){return a(o+e/i)}:function(e){return o+e/i}}(t)})),c.grid.show&&(e.each(allocatedAxes,(function(e,t){!function(e){"x"==e.direction?(e.box.left=x.left,e.box.width=y):(e.box.top=x.top,e.box.height=k)}(t)})),function(){o.find(".tickLabels").remove();for(var e=['<div class="tickLabels" style="font-size:smaller">'],t=A(),i=0;i<t.length;++i){var n=t[i],a=n.box;if(n.show){e.push('<div class="'+n.direction+"Axis "+n.direction+n.n+'Axis" style="color:'+n.options.color+'">');for(var r=0;r<n.ticks.length;++r){var s=n.ticks[r];if(!(!s.label||s.v<n.min||s.v>n.max)){var l,c={};"x"==n.direction?(l="center",c.left=Math.round(x.left+n.p2c(s.v)-n.labelWidth/2),"bottom"==n.position?c.top=a.top+a.padding:c.bottom=v-(a.top+a.height-a.padding)):(c.top=Math.round(x.top+n.p2c(s.v)-n.labelHeight/2),"left"==n.position?(c.right=b-(a.left+a.width-a.padding),l="right"):(c.left=a.left+a.padding,l="left")),c.width=n.labelWidth;var u=["position:absolute","text-align:"+l];for(var d in c)u.push(d+":"+c[d]+"px");e.push('<div class="tickLabel" style="'+u.join(";")+'">'+s.label+"</div>")}}e.push("</div>")}}e.push("</div>"),o.append(e.join(""))}()),function(){if(o.find(".legend").remove(),!c.legend.show)return;for(var t,i,n=[],a=!1,r=c.legend.labelFormatter,s=0;s<l.length;++s)t=l[s],(i=t.label)&&(s%c.legend.noColumns==0&&(a&&n.push("</tr>"),n.push("<tr>"),a=!0),r&&(i=r(i,t)),n.push('<td class="legendColorBox"><div style="border:1px solid '+c.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+t.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+i+"</td>"));a&&n.push("</tr>");if(0==n.length)return;var u='<table style="font-size:smaller;color:'+c.grid.color+'">'+n.join("")+"</table>";if(null!=c.legend.container)e(c.legend.container).html(u);else{var d="",h=c.legend.position,p=c.legend.margin;null==p[0]&&(p=[p,p]),"n"==h.charAt(0)?d+="top:"+(p[1]+x.top)+"px;":"s"==h.charAt(0)&&(d+="bottom:"+(p[1]+x.bottom)+"px;"),"e"==h.charAt(1)?d+="right:"+(p[0]+x.right)+"px;":"w"==h.charAt(1)&&(d+="left:"+(p[0]+x.left)+"px;");var f=e('<div class="legend">'+u.replace('style="','style="position:absolute;'+d+";")+"</div>").appendTo(o);if(0!=c.legend.backgroundOpacity){var g=c.legend.backgroundColor;null==g&&((g=(g=c.grid.backgroundColor)&&"string"==typeof g?e.color.parse(g):e.color.extract(f,"background-color")).a=1,g=g.toString());var m=f.children();e('<div style="position:absolute;width:'+m.width()+"px;height:"+m.height()+"px;"+d+"background-color:"+g+';"> </div>').prependTo(f).css("opacity",c.legend.backgroundOpacity)}}}()}function L(){p.clearRect(0,0,b,v);var e=c.grid;e.show&&e.backgroundColor&&(p.save(),p.translate(x.left,x.top),p.fillStyle=ee(c.grid.backgroundColor,k,0,"rgba(255, 255, 255, 0)"),p.fillRect(0,0,y,k),p.restore()),e.show&&!e.aboveData&&D();for(var t=0;t<l.length;++t)T(w.drawSeries,[p,l[t]]),Y(l[t]);T(w.draw,[p]),e.show&&e.aboveData&&D()}function U(e,t){var o,n,a,r,s=A();for(i=0;i<s.length;++i)if((o=s[i]).direction==t&&(e[r=t+o.n+"axis"]||1!=o.n||(r=t+"axis"),e[r])){n=e[r].from,a=e[r].to;break}if(e[r]||(o="x"==t?g[0]:m[0],n=e[t+"1"],a=e[t+"2"]),null!=n&&null!=a&&n>a){var l=n;n=a,a=l}return{from:n,to:a,axis:o}}function D(){var t;p.save(),p.translate(x.left,x.top);var i=c.grid.markings;if(i){if(e.isFunction(i))(r=M.getAxes()).xmin=r.xaxis.min,r.xmax=r.xaxis.max,r.ymin=r.yaxis.min,r.ymax=r.yaxis.max,i=i(r);for(t=0;t<i.length;++t){var o=i[t],n=U(o,"x"),a=U(o,"y");null==n.from&&(n.from=n.axis.min),null==n.to&&(n.to=n.axis.max),null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),n.to<n.axis.min||n.from>n.axis.max||a.to<a.axis.min||a.from>a.axis.max||(n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max),a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),n.from==n.to&&a.from==a.to||(n.from=n.axis.p2c(n.from),n.to=n.axis.p2c(n.to),a.from=a.axis.p2c(a.from),a.to=a.axis.p2c(a.to),n.from==n.to||a.from==a.to?(p.beginPath(),p.strokeStyle=o.color||c.grid.markingsColor,p.lineWidth=o.lineWidth||c.grid.markingsLineWidth,p.moveTo(n.from,a.from),p.lineTo(n.to,a.to),p.stroke()):(p.fillStyle=o.color||c.grid.markingsColor,p.fillRect(n.from,a.to,n.to-n.from,a.from-a.to))))}}for(var r=A(),s=c.grid.borderWidth,l=0;l<r.length;++l){var u,d,h,f,g=r[l],m=g.box,b=g.tickLength;if(g.show&&0!=g.ticks.length){for(p.strokeStyle=g.options.tickColor||e.color.parse(g.options.color).scale("a",.22).toString(),p.lineWidth=1,"x"==g.direction?(u=0,d="full"==b?"top"==g.position?0:k:m.top-x.top+("top"==g.position?m.height:0)):(d=0,u="full"==b?"left"==g.position?0:y:m.left-x.left+("left"==g.position?m.width:0)),g.innermost||(p.beginPath(),h=f=0,"x"==g.direction?h=y:f=k,1==p.lineWidth&&(u=Math.floor(u)+.5,d=Math.floor(d)+.5),p.moveTo(u,d),p.lineTo(u+h,d+f),p.stroke()),p.beginPath(),t=0;t<g.ticks.length;++t){var v=g.ticks[t].v;h=f=0,v<g.min||v>g.max||"full"==b&&s>0&&(v==g.min||v==g.max)||("x"==g.direction?(u=g.p2c(v),f="full"==b?-k:b,"top"==g.position&&(f=-f)):(d=g.p2c(v),h="full"==b?-y:b,"left"==g.position&&(h=-h)),1==p.lineWidth&&("x"==g.direction?u=Math.floor(u)+.5:d=Math.floor(d)+.5),p.moveTo(u,d),p.lineTo(u+h,d+f))}p.stroke()}}s&&(p.lineWidth=s,p.strokeStyle=c.grid.borderColor,p.strokeRect(-s/2,-s/2,y+s,k+s)),p.restore()}function Y(e){e.lines.show&&function(e){function t(e,t,i,o,n){var a=e.points,r=e.pointsize,s=null,l=null;p.beginPath();for(var c=r;c<a.length;c+=r){var u=a[c-r],d=a[c-r+1],h=a[c],f=a[c+1];if(null!=u&&null!=h){if(d<=f&&d<n.min){if(f<n.min)continue;u=(n.min-d)/(f-d)*(h-u)+u,d=n.min}else if(f<=d&&f<n.min){if(d<n.min)continue;h=(n.min-d)/(f-d)*(h-u)+u,f=n.min}if(d>=f&&d>n.max){if(f>n.max)continue;u=(n.max-d)/(f-d)*(h-u)+u,d=n.max}else if(f>=d&&f>n.max){if(d>n.max)continue;h=(n.max-d)/(f-d)*(h-u)+u,f=n.max}if(u<=h&&u<o.min){if(h<o.min)continue;d=(o.min-u)/(h-u)*(f-d)+d,u=o.min}else if(h<=u&&h<o.min){if(u<o.min)continue;f=(o.min-u)/(h-u)*(f-d)+d,h=o.min}if(u>=h&&u>o.max){if(h>o.max)continue;d=(o.max-u)/(h-u)*(f-d)+d,u=o.max}else if(h>=u&&h>o.max){if(u>o.max)continue;f=(o.max-u)/(h-u)*(f-d)+d,h=o.max}u==s&&d==l||p.moveTo(o.p2c(u)+t,n.p2c(d)+i),s=h,l=f,p.lineTo(o.p2c(h)+t,n.p2c(f)+i)}}p.stroke()}p.save(),p.translate(x.left,x.top),p.lineJoin="round";var i=e.lines.lineWidth,o=e.shadowSize;if(i>0&&o>0){p.lineWidth=o,p.strokeStyle="rgba(0,0,0,0.1)";var n=Math.PI/18;t(e.datapoints,Math.sin(n)*(i/2+o/2),Math.cos(n)*(i/2+o/2),e.xaxis,e.yaxis),p.lineWidth=o/2,t(e.datapoints,Math.sin(n)*(i/2+o/4),Math.cos(n)*(i/2+o/4),e.xaxis,e.yaxis)}p.lineWidth=i,p.strokeStyle=e.color;var a=E(e.lines,e.color,0,k);a&&(p.fillStyle=a,function(e,t,i){for(var o=e.points,n=e.pointsize,a=Math.min(Math.max(0,i.min),i.max),r=0,s=!1,l=1,c=0,u=0;!(n>0&&r>o.length+n);){var d=o[(r+=n)-n],h=o[r-n+l],f=o[r],g=o[r+l];if(s){if(n>0&&null!=d&&null==f){u=r,n=-n,l=2;continue}if(n<0&&r==c+n){p.fill(),s=!1,l=1,r=c=u+(n=-n);continue}}if(null!=d&&null!=f){if(d<=f&&d<t.min){if(f<t.min)continue;h=(t.min-d)/(f-d)*(g-h)+h,d=t.min}else if(f<=d&&f<t.min){if(d<t.min)continue;g=(t.min-d)/(f-d)*(g-h)+h,f=t.min}if(d>=f&&d>t.max){if(f>t.max)continue;h=(t.max-d)/(f-d)*(g-h)+h,d=t.max}else if(f>=d&&f>t.max){if(d>t.max)continue;g=(t.max-d)/(f-d)*(g-h)+h,f=t.max}if(s||(p.beginPath(),p.moveTo(t.p2c(d),i.p2c(a)),s=!0),h>=i.max&&g>=i.max)p.lineTo(t.p2c(d),i.p2c(i.max)),p.lineTo(t.p2c(f),i.p2c(i.max));else if(h<=i.min&&g<=i.min)p.lineTo(t.p2c(d),i.p2c(i.min)),p.lineTo(t.p2c(f),i.p2c(i.min));else{var m=d,x=f;h<=g&&h<i.min&&g>=i.min?(d=(i.min-h)/(g-h)*(f-d)+d,h=i.min):g<=h&&g<i.min&&h>=i.min&&(f=(i.min-h)/(g-h)*(f-d)+d,g=i.min),h>=g&&h>i.max&&g<=i.max?(d=(i.max-h)/(g-h)*(f-d)+d,h=i.max):g>=h&&g>i.max&&h<=i.max&&(f=(i.max-h)/(g-h)*(f-d)+d,g=i.max),d!=m&&p.lineTo(t.p2c(m),i.p2c(h)),p.lineTo(t.p2c(d),i.p2c(h)),p.lineTo(t.p2c(f),i.p2c(g)),f!=x&&(p.lineTo(t.p2c(f),i.p2c(g)),p.lineTo(t.p2c(x),i.p2c(g)))}}}}(e.datapoints,e.xaxis,e.yaxis));i>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis);p.restore()}(e),e.bars.show&&function(e){p.save(),p.translate(x.left,x.top),p.lineWidth=e.bars.lineWidth,p.strokeStyle=e.color;var t="left"==e.bars.align?0:-e.bars.barWidth/2,i=e.bars.fill?function(t,i){return E(e.bars,e.color,t,i)}:null;(function(t,i,o,n,a,r,s){for(var l=t.points,c=t.pointsize,u=0;u<l.length;u+=c)null!=l[u]&&R(l[u],l[u+1],l[u+2],i,o,n,a,r,s,p,e.bars.horizontal,e.bars.lineWidth)})(e.datapoints,t,t+e.bars.barWidth,0,i,e.xaxis,e.yaxis),p.restore()}(e),e.points.show&&function(e){function t(e,t,i,o,n,a,r,s){for(var l=e.points,c=e.pointsize,u=0;u<l.length;u+=c){var d=l[u],h=l[u+1];null==d||d<a.min||d>a.max||h<r.min||h>r.max||(p.beginPath(),d=a.p2c(d),h=r.p2c(h)+o,"circle"==s?p.arc(d,h,t,0,n?Math.PI:2*Math.PI,!1):s(p,d,h,t,n),p.closePath(),i&&(p.fillStyle=i,p.fill()),p.stroke())}}p.save(),p.translate(x.left,x.top);var i=e.points.lineWidth,o=e.shadowSize,n=e.points.radius,a=e.points.symbol;if(i>0&&o>0){var r=o/2;p.lineWidth=r,p.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,n,null,r+r/2,!0,e.xaxis,e.yaxis,a),p.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,n,null,r/2,!0,e.xaxis,e.yaxis,a)}p.lineWidth=i,p.strokeStyle=e.color,t(e.datapoints,n,E(e.points,e.color),0,!1,e.xaxis,e.yaxis,a),p.restore()}(e)}function R(e,t,i,o,n,a,r,s,l,c,u,d){var h,p,f,g,m,x,b,v,y;u?(v=x=b=!0,m=!1,g=t+o,f=t+n,(p=e)<(h=i)&&(y=p,p=h,h=y,m=!0,x=!1)):(m=x=b=!0,v=!1,h=e+o,p=e+n,(g=t)<(f=i)&&(y=g,g=f,f=y,v=!0,b=!1)),p<s.min||h>s.max||g<l.min||f>l.max||(h<s.min&&(h=s.min,m=!1),p>s.max&&(p=s.max,x=!1),f<l.min&&(f=l.min,v=!1),g>l.max&&(g=l.max,b=!1),h=s.p2c(h),f=l.p2c(f),p=s.p2c(p),g=l.p2c(g),r&&(c.beginPath(),c.moveTo(h,f),c.lineTo(h,g),c.lineTo(p,g),c.lineTo(p,f),c.fillStyle=r(f,g),c.fill()),d>0&&(m||x||b||v)&&(c.beginPath(),c.moveTo(h,f+a),m?c.lineTo(h,g+a):c.moveTo(h,g+a),b?c.lineTo(p,g+a):c.moveTo(p,g+a),x?c.lineTo(p,f+a):c.moveTo(p,f+a),v?c.lineTo(h,f+a):c.moveTo(h,f+a),c.stroke()))}function E(t,i,o,n){var a=t.fill;if(!a)return null;if(t.fillColor)return ee(t.fillColor,o,n,i);var r=e.color.parse(i);return r.a="number"==typeof a?a:.4,r.normalize(),r.toString()}M.setData=S,M.setupGrid=F,M.draw=L,M.getPlaceholder=function(){return o},M.getCanvas=function(){return u},M.getPlotOffset=function(){return x},M.width=function(){return y},M.height=function(){return k},M.offset=function(){var e=h.offset();return e.left+=x.left,e.top+=x.top,e},M.getData=function(){return l},M.getAxes=function(){var t={};return e.each(g.concat(m),(function(e,i){i&&(t[i.direction+(1!=i.n?i.n:"")+"axis"]=i)})),t},M.getXAxes=function(){return g},M.getYAxes=function(){return m},M.c2p=I,M.p2c=function(e){var t,i,o,n={};for(t=0;t<g.length;++t)if((i=g[t])&&i.used&&(o="x"+i.n,null==e[o]&&1==i.n&&(o="x"),null!=e[o])){n.left=i.p2c(e[o]);break}for(t=0;t<m.length;++t)if((i=m[t])&&i.used&&(o="y"+i.n,null==e[o]&&1==i.n&&(o="y"),null!=e[o])){n.top=i.p2c(e[o]);break}return n},M.getOptions=function(){return c},M.highlight=q,M.unhighlight=$,M.triggerRedrawOverlay=J,M.pointOffset=function(e){return{left:parseInt(g[C(e,"x")-1].p2c(+e.x)+x.left),top:parseInt(m[C(e,"y")-1].p2c(+e.y)+x.top)}},M.shutdown=function(){j&&clearTimeout(j);h.unbind("mousemove",H),h.unbind("mouseleave",_),h.unbind("click",B),T(w.shutdown,[h])},M.resize=function(){z(),N(u),N(d)},M.hooks=w,function(){for(var t=0;t<s.length;++t){var i=s[t];i.init(M),i.options&&e.extend(!0,c,i.options)}}(),function(t){var i;e.extend(!0,c,t),null==c.xaxis.color&&(c.xaxis.color=c.grid.color);null==c.yaxis.color&&(c.yaxis.color=c.grid.color);null==c.xaxis.tickColor&&(c.xaxis.tickColor=c.grid.tickColor);null==c.yaxis.tickColor&&(c.yaxis.tickColor=c.grid.tickColor);null==c.grid.borderColor&&(c.grid.borderColor=c.grid.color);null==c.grid.tickColor&&(c.grid.tickColor=e.color.parse(c.grid.color).scale("a",.22).toString());for(i=0;i<Math.max(1,c.xaxes.length);++i)c.xaxes[i]=e.extend(!0,{},c.xaxis,c.xaxes[i]);for(i=0;i<Math.max(1,c.yaxes.length);++i)c.yaxes[i]=e.extend(!0,{},c.yaxis,c.yaxes[i]);c.xaxis.noTicks&&null==c.xaxis.ticks&&(c.xaxis.ticks=c.xaxis.noTicks);c.yaxis.noTicks&&null==c.yaxis.ticks&&(c.yaxis.ticks=c.yaxis.noTicks);c.x2axis&&(c.xaxes[1]=e.extend(!0,{},c.xaxis,c.x2axis),c.xaxes[1].position="top");c.y2axis&&(c.yaxes[1]=e.extend(!0,{},c.yaxis,c.y2axis),c.yaxes[1].position="right");c.grid.coloredAreas&&(c.grid.markings=c.grid.coloredAreas);c.grid.coloredAreasColor&&(c.grid.markingsColor=c.grid.coloredAreasColor);c.lines&&e.extend(!0,c.series.lines,c.lines);c.points&&e.extend(!0,c.series.points,c.points);c.bars&&e.extend(!0,c.series.bars,c.bars);null!=c.shadowSize&&(c.series.shadowSize=c.shadowSize);for(i=0;i<c.xaxes.length;++i)P(g,i+1).options=c.xaxes[i];for(i=0;i<c.yaxes.length;++i)P(m,i+1).options=c.yaxes[i];for(var o in w)c.hooks[o]&&c.hooks[o].length&&(w[o]=w[o].concat(c.hooks[o]));T(w.processOptions,[c])}(r),function(){var t,i=o.children("canvas.base"),n=o.children("canvas.overlay");0==i.length||0==n?(o.html(""),o.css({padding:0}),"static"==o.css("position")&&o.css("position","relative"),z(),u=O(!0,"base"),d=O(!1,"overlay"),t=!1):(u=i.get(0),d=n.get(0),t=!0);p=u.getContext("2d"),f=d.getContext("2d"),h=e([d,u]),t&&(o.data("plot").shutdown(),M.resize(),f.clearRect(0,0,b,v),h.unbind(),o.children().not([u,d]).remove());o.data("plot",M)}(),S(a),F(),L(),function(){c.grid.hoverable&&(h.mousemove(H),h.mouseleave(_));c.grid.clickable&&h.click(B);T(w.bindEvents,[h])}();var X=[],j=null;function H(e){c.grid.hoverable&&G("plothover",e,(function(e){return 0!=e.hoverable}))}function _(e){c.grid.hoverable&&G("plothover",e,(function(e){return!1}))}function B(e){G("plotclick",e,(function(e){return 0!=e.clickable}))}function G(e,t,i){var n=h.offset(),a=t.pageX-n.left-x.left,r=t.pageY-n.top-x.top,s=I({left:a,top:r});s.pageX=t.pageX,s.pageY=t.pageY;var u=function(e,t,i){var o,n,a=c.grid.mouseActiveRadius,r=a*a+1,s=null;for(o=l.length-1;o>=0;--o)if(i(l[o])){var u=l[o],d=u.xaxis,h=u.yaxis,p=u.datapoints.points,f=u.datapoints.pointsize,g=d.c2p(e),m=h.c2p(t),x=a/d.scale,b=a/h.scale;if(d.options.inverseTransform&&(x=Number.MAX_VALUE),h.options.inverseTransform&&(b=Number.MAX_VALUE),u.lines.show||u.points.show)for(n=0;n<p.length;n+=f){var v=p[n],y=p[n+1];if(null!=v&&!(v-g>x||v-g<-x||y-m>b||y-m<-b)){var k=Math.abs(d.p2c(v)-e),w=Math.abs(h.p2c(y)-t),M=k*k+w*w;M<r&&(r=M,s=[o,n/f])}}if(u.bars.show&&!s){var T="left"==u.bars.align?0:-u.bars.barWidth/2,S=T+u.bars.barWidth;for(n=0;n<p.length;n+=f){v=p[n],y=p[n+1];var C=p[n+2];null!=v&&((l[o].bars.horizontal?g<=Math.max(C,v)&&g>=Math.min(C,v)&&m>=y+T&&m<=y+S:g>=v+T&&g<=v+S&&m>=Math.min(C,y)&&m<=Math.max(C,y))&&(s=[o,n/f]))}}}return s?(o=s[0],n=s[1],f=l[o].datapoints.pointsize,{datapoint:l[o].datapoints.points.slice(n*f,(n+1)*f),dataIndex:n,series:l[o],seriesIndex:o}):null}(a,r,i);if(u&&(u.pageX=parseInt(u.series.xaxis.p2c(u.datapoint[0])+n.left+x.left),u.pageY=parseInt(u.series.yaxis.p2c(u.datapoint[1])+n.top+x.top)),c.grid.autoHighlight){for(var d=0;d<X.length;++d){var p=X[d];p.auto!=e||u&&p.series==u.series&&p.point[0]==u.datapoint[0]&&p.point[1]==u.datapoint[1]||$(p.series,p.point)}u&&q(u.series,u.datapoint,e)}o.trigger(e,[s,u])}function J(){j||(j=setTimeout(V,30))}function V(){var e,t;for(j=null,f.save(),f.clearRect(0,0,b,v),f.translate(x.left,x.top),e=0;e<X.length;++e)(t=X[e]).series.bars.show?Z(t.series,t.point):Q(t.series,t.point);f.restore(),T(w.drawOverlay,[f])}function q(e,t,i){if("number"==typeof e&&(e=l[e]),"number"==typeof t){var o=e.datapoints.pointsize;t=e.datapoints.points.slice(o*t,o*(t+1))}var n=K(e,t);-1==n?(X.push({series:e,point:t,auto:i}),J()):i||(X[n].auto=!1)}function $(e,t){null==e&&null==t&&(X=[],J()),"number"==typeof e&&(e=l[e]),"number"==typeof t&&(t=e.data[t]);var i=K(e,t);-1!=i&&(X.splice(i,1),J())}function K(e,t){for(var i=0;i<X.length;++i){var o=X[i];if(o.series==e&&o.point[0]==t[0]&&o.point[1]==t[1])return i}return-1}function Q(t,i){var o=i[0],n=i[1],a=t.xaxis,r=t.yaxis;if(!(o<a.min||o>a.max||n<r.min||n>r.max)){var s=t.points.radius+t.points.lineWidth/2;f.lineWidth=s,f.strokeStyle=e.color.parse(t.color).scale("a",.5).toString();var l=1.5*s;o=a.p2c(o),n=r.p2c(n);f.beginPath(),"circle"==t.points.symbol?f.arc(o,n,l,0,2*Math.PI,!1):t.points.symbol(f,o,n,l,!1),f.closePath(),f.stroke()}}function Z(t,i){f.lineWidth=t.bars.lineWidth,f.strokeStyle=e.color.parse(t.color).scale("a",.5).toString();var o=e.color.parse(t.color).scale("a",.5).toString(),n="left"==t.bars.align?0:-t.bars.barWidth/2;R(i[0],i[1],i[2]||0,n,n+t.bars.barWidth,0,(function(){return o}),t.xaxis,t.yaxis,f,t.bars.horizontal,t.bars.lineWidth)}function ee(t,i,o,n){if("string"==typeof t)return t;for(var a=p.createLinearGradient(0,o,0,i),r=0,s=t.colors.length;r<s;++r){var l=t.colors[r];if("string"!=typeof l){var c=e.color.parse(n);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}a.addColorStop(r/(s-1),l)}return a}}function n(e,t){return t*Math.floor(e/t)}e.plot=function(t,i,n){return new o(e(t),i,n,e.plot.plugins)},e.plot.version="0.7",e.plot.plugins=[],e.plot.formatDate=function(e,t,i){var o=function(e){return 1==(e=""+e).length?"0"+e:e},n=[],a=!1,r=!1,s=e.getUTCHours(),l=s<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),-1!=t.search(/%p|%P/)&&(s>12?s-=12:0==s&&(s=12));for(var c=0;c<t.length;++c){var u=t.charAt(c);if(a){switch(u){case"h":u=""+s;break;case"H":u=o(s);break;case"M":u=o(e.getUTCMinutes());break;case"S":u=o(e.getUTCSeconds());break;case"d":u=""+e.getUTCDate();break;case"m":u=""+(e.getUTCMonth()+1);break;case"y":u=""+e.getUTCFullYear();break;case"b":u=""+i[e.getUTCMonth()];break;case"p":u=l?"am":"pm";break;case"P":u=l?"AM":"PM";break;case"0":u="",r=!0}u&&r&&(u=o(u),r=!1),n.push(u),r||(a=!1)}else"%"==u?a=!0:n.push(u)}return n.join("")}}(e)}).call(this,o(0))},413:function(e,t,i){"use strict";var o=i(22),n=i(73),a=i(13);e.exports=function(e){for(var t=o(this),i=a(t.length),r=arguments.length,s=n(r>1?arguments[1]:void 0,i),l=r>2?arguments[2]:void 0,c=void 0===l?i:n(l,i);c>s;)t[s++]=e;return t}},414:function(e,t,i){"use strict";(function(e){var t;i(37),i(39);(t=e).plot.plugins.push({init:function(e){var i={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},o={},n=null;function a(t){i.active&&(h(t),e.getPlaceholder().trigger("plotselecting",[l()]))}function r(e){1==e.which&&(document.body.focus(),void 0!==document.onselectstart&&null==o.onselectstart&&(o.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==o.ondrag&&(o.ondrag=document.ondrag,document.ondrag=function(){return!1}),d(i.first,e),i.active=!0,n=function(e){s(e)},t(document).one("mouseup",n))}function s(t){return n=null,void 0!==document.onselectstart&&(document.onselectstart=o.onselectstart),void 0!==document.ondrag&&(document.ondrag=o.ondrag),i.active=!1,h(t),g()?c():(e.getPlaceholder().trigger("plotunselected",[]),e.getPlaceholder().trigger("plotselecting",[null])),!1}function l(){if(!g())return null;var o={},n=i.first,a=i.second;return t.each(e.getAxes(),(function(e,t){if(t.used){var i=t.c2p(n[t.direction]),r=t.c2p(a[t.direction]);o[e]={from:Math.min(i,r),to:Math.max(i,r)}}})),o}function c(){var t=l();e.getPlaceholder().trigger("plotselected",[t]),t.xaxis&&t.yaxis&&e.getPlaceholder().trigger("selected",[{x1:t.xaxis.from,y1:t.yaxis.from,x2:t.xaxis.to,y2:t.yaxis.to}])}function u(e,t,i){return t<e?e:t>i?i:t}function d(t,o){var n=e.getOptions(),a=e.getPlaceholder().offset(),r=e.getPlotOffset();t.x=u(0,o.pageX-a.left-r.left,e.width()),t.y=u(0,o.pageY-a.top-r.top,e.height()),"y"==n.selection.mode&&(t.x=t==i.first?0:e.width()),"x"==n.selection.mode&&(t.y=t==i.first?0:e.height())}function h(t){null!=t.pageX&&(d(i.second,t),g()?(i.show=!0,e.triggerRedrawOverlay()):p(!0))}function p(t){i.show&&(i.show=!1,e.triggerRedrawOverlay(),t||e.getPlaceholder().trigger("plotunselected",[]))}function f(t,i){var o,n,a,r,s=e.getAxes();for(var l in s)if((o=s[l]).direction==i&&(t[r=i+o.n+"axis"]||1!=o.n||(r=i+"axis"),t[r])){n=t[r].from,a=t[r].to;break}if(t[r]||(o="x"==i?e.getXAxes()[0]:e.getYAxes()[0],n=t[i+"1"],a=t[i+"2"]),null!=n&&null!=a&&n>a){var c=n;n=a,a=c}return{from:n,to:a,axis:o}}function g(){return Math.abs(i.second.x-i.first.x)>=5&&Math.abs(i.second.y-i.first.y)>=5}e.clearSelection=p,e.setSelection=function(t,o){var n,a=e.getOptions();"y"==a.selection.mode?(i.first.x=0,i.second.x=e.width()):(n=f(t,"x"),i.first.x=n.axis.p2c(n.from),i.second.x=n.axis.p2c(n.to)),"x"==a.selection.mode?(i.first.y=0,i.second.y=e.height()):(n=f(t,"y"),i.first.y=n.axis.p2c(n.from),i.second.y=n.axis.p2c(n.to)),i.show=!0,e.triggerRedrawOverlay(),!o&&g()&&c()},e.getSelection=l,e.hooks.bindEvents.push((function(e,t){null!=e.getOptions().selection.mode&&(t.mousemove(a),t.mousedown(r))})),e.hooks.drawOverlay.push((function(e,o){if(i.show&&g()){var n=e.getPlotOffset(),a=e.getOptions();o.save(),o.translate(n.left,n.top);var r=t.color.parse(a.selection.color);o.strokeStyle=r.scale("a",.8).toString(),o.lineWidth=1,o.lineJoin="round",o.fillStyle=r.scale("a",.4).toString();var s=Math.min(i.first.x,i.second.x),l=Math.min(i.first.y,i.second.y),c=Math.abs(i.second.x-i.first.x),u=Math.abs(i.second.y-i.first.y);o.fillRect(s,l,c,u),o.strokeRect(s,l,c,u),o.restore()}})),e.hooks.shutdown.push((function(e,i){i.unbind("mousemove",a),i.unbind("mousedown",r),n&&t(document).unbind("mouseup",n)}))},options:{selection:{mode:null,color:"#e8cfac"}},name:"selection",version:"1.1"})}).call(this,i(0))},415:function(e,t,i){"use strict";(function(e){i(33);e.plot.plugins.push({init:function(e){var t={x:-1,y:-1,locked:!1};function i(i){t.locked||-1!=t.x&&(t.x=-1,e.triggerRedrawOverlay())}function o(i){if(!t.locked)if(e.getSelection&&e.getSelection())t.x=-1;else{var o=e.offset();t.x=Math.max(0,Math.min(i.pageX-o.left,e.width())),t.y=Math.max(0,Math.min(i.pageY-o.top,e.height())),e.triggerRedrawOverlay()}}e.setCrosshair=function(i){if(i){var o=e.p2c(i);t.x=Math.max(0,Math.min(o.left,e.width())),t.y=Math.max(0,Math.min(o.top,e.height()))}else t.x=-1;e.triggerRedrawOverlay()},e.clearCrosshair=e.setCrosshair,e.lockCrosshair=function(i){i&&e.setCrosshair(i),t.locked=!0},e.unlockCrosshair=function(){t.locked=!1},e.hooks.bindEvents.push((function(e,t){e.getOptions().crosshair.mode&&(t.mouseout(i),t.mousemove(o))})),e.hooks.drawOverlay.push((function(e,i){var o=e.getOptions().crosshair;if(o.mode){var n=e.getPlotOffset();i.save(),i.translate(n.left,n.top),-1!=t.x&&(i.strokeStyle=o.color,i.lineWidth=o.lineWidth,i.lineJoin="round",i.beginPath(),-1!=o.mode.indexOf("x")&&(i.moveTo(t.x,0),i.lineTo(t.x,e.height())),-1!=o.mode.indexOf("y")&&(i.moveTo(0,t.y),i.lineTo(e.width(),t.y)),i.stroke()),i.restore()}})),e.hooks.shutdown.push((function(e,t){t.unbind("mouseout",i),t.unbind("mousemove",o)}))},options:{crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}},name:"crosshair",version:"1.0"})}).call(this,i(0))},416:function(e,t,i){(function(e){e.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push((function(e,t,i){if(null!=t.stack){var o=function(e,t){for(var i=null,o=0;o<t.length&&e!=t[o];++o)t[o].stack==e.stack&&(i=t[o]);return i}(t,e.getData());if(o){for(var n,a,r,s,l,c,u,d=i.pointsize,h=i.points,p=o.datapoints.pointsize,f=o.datapoints.points,g=[],x=t.lines.show,b=t.bars.horizontal,v=d>2&&(b?i.format[2].x:i.format[2].y),y=x&&t.lines.steps,k=!0,w=b?1:0,M=b?0:1,T=0,S=0;!(T>=h.length);){if(u=g.length,null==h[T]){for(m=0;m<d;++m)g.push(h[T+m]);T+=d}else if(S>=f.length){if(!x)for(m=0;m<d;++m)g.push(h[T+m]);T+=d}else if(null==f[S]){for(m=0;m<d;++m)g.push(null);k=!0,S+=p}else{if(n=h[T+w],a=h[T+M],s=f[S+w],l=f[S+M],c=0,n==s){for(m=0;m<d;++m)g.push(h[T+m]);g[u+M]+=l,c=l,T+=d,S+=p}else if(n>s){if(x&&T>0&&null!=h[T-d]){for(r=a+(h[T-d+M]-a)*(s-n)/(h[T-d+w]-n),g.push(s),g.push(r+l),m=2;m<d;++m)g.push(h[T+m]);c=l}S+=p}else{if(k&&x){T+=d;continue}for(m=0;m<d;++m)g.push(h[T+m]);x&&S>0&&null!=f[S-p]&&(c=l+(f[S-p+M]-l)*(n-s)/(f[S-p+w]-s)),g[u+M]+=c,T+=d}k=!1,u!=g.length&&v&&(g[u+2]+=c)}if(y&&u!=g.length&&u>0&&null!=g[u]&&g[u]!=g[u-d]&&g[u+1]!=g[u-d+1]){for(m=0;m<d;++m)g[u+d+m]=g[u+m];g[u+1]=g[u-d+1]}}i.points=g}}}))},options:{series:{stack:null}},name:"stack",version:"1.2"})}).call(this,i(0))},417:function(e,t,o){"use strict";(function(e){var t,n;o(149),o(150),o(151),o(243),o(31),o(96),o(98),o(37),o(97),o(48),o(5),o(146),o(70),o(147);n={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function(e,t){return'<div style="font-size:x-small;text-align:center;padding:2px;color:'+t.color+';">'+e+"<br/>"+Math.round(t.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}},(t=e).plot.plugins.push({init:function(e){var o=null,a=null,r=null,s=null,l=null,c=0,u=!0,d=0,h=!1,p=[];function f(e,i,r,s){h||(h=!0,o=e.getCanvas(),a=t(o).parent(),n=e.getOptions(),e.setData(function(e){!function(e){for(var t=0;t<e.length;++t){var i=parseFloat(e[t].data[0][1]);i&&(c+=i)}}(e=function(e){for(var t=0;t<e.length;++t)"number"==typeof e[t].data?e[t].data=[[1,e[t].data]]:void 0!==e[t].data&&void 0!==e[t].data[0]||(void 0!==e[t].data&&void 0!==e[t].data.label&&(e[t].label=e[t].data.label),e[t].data=[[1,0]]);return e}(e));for(var t=0,i=0,o=n.series.pie.combine.color,a=[],r=0;r<e.length;++r)e[r].data[0][1]=parseFloat(e[r].data[0][1]),e[r].data[0][1]||(e[r].data[0][1]=0),e[r].data[0][1]/c<=n.series.pie.combine.threshold?(t+=e[r].data[0][1],i++,o||(o=e[r].color)):a.push({data:[[1,e[r].data[0][1]]],color:e[r].color,label:e[r].label,angle:e[r].data[0][1]*(2*Math.PI)/c,percent:e[r].data[0][1]/c*100});return i>0&&a.push({data:[[1,t]],color:o,label:n.series.pie.combine.label,angle:t*(2*Math.PI)/c,percent:t/c*100}),a}(e.getData())))}function g(e,i){if(a){ctx=i,d=a.children().filter(".legend").children().width(),r=Math.min(o.width,o.height/n.series.pie.tilt)/2,l=o.height/2+n.series.pie.offset.top,s=o.width/2,"auto"==n.series.pie.offset.left?n.legend.position.match("w")?s+=d/2:s-=d/2:s+=n.series.pie.offset.left,s<r?s=r:s>o.width-r&&(s=o.width-r);for(var c=e.getData(),h=0;u&&h<10;)u=!1,h>0&&(r*=.95),h+=1,p(),n.series.pie.tilt<=.8&&f(),g();h>=10&&(p(),a.prepend('<div class="error">Could not draw pie with labels contained inside canvas</div>')),e.setSeries&&e.insertLegend&&(e.setSeries(c),e.insertLegend())}function p(){ctx.clearRect(0,0,o.width,o.height),a.children().filter(".pieLabel, .pieLabelBackground").remove()}function f(){if(n.series.pie.radius>1)var e=n.series.pie.radius;else e=r*n.series.pie.radius;if(!(e>=o.width/2-5||e*n.series.pie.tilt>=o.height/2-15||e<=10)){ctx.save(),ctx.translate(5,15),ctx.globalAlpha=.02,ctx.fillStyle="#000",ctx.translate(s,l),ctx.scale(1,n.series.pie.tilt);for(var t=1;t<=10;t++)ctx.beginPath(),ctx.arc(0,0,e,0,2*Math.PI,!1),ctx.fill(),e-=t;ctx.restore()}}function g(){if(startAngle=Math.PI*n.series.pie.startAngle,n.series.pie.radius>1)var e=n.series.pie.radius;else e=r*n.series.pie.radius;ctx.save(),ctx.translate(s,l),ctx.scale(1,n.series.pie.tilt),ctx.save();for(var i=startAngle,d=0;d<c.length;++d)c[d].startAngle=i,h(c[d].angle,c[d].color,!0);for(ctx.restore(),ctx.save(),ctx.lineWidth=n.series.pie.stroke.width,i=startAngle,d=0;d<c.length;++d)h(c[d].angle,n.series.pie.stroke.color,!1);function h(o,n,a){o<=0||(a?ctx.fillStyle=n:(ctx.strokeStyle=n,ctx.lineJoin="round"),ctx.beginPath(),Math.abs(o-2*Math.PI)>1e-9?ctx.moveTo(0,0):t.browser.msie&&(o-=1e-4),ctx.arc(0,0,e,i,i+o,!1),ctx.closePath(),i+=o,a?ctx.fill():ctx.stroke())}ctx.restore(),m(ctx),n.series.pie.label.show&&function(){var e=startAngle;if(n.series.pie.label.radius>1)var i=n.series.pie.label.radius;else i=r*n.series.pie.label.radius;for(var d=0;d<c.length;++d)c[d].percent>=100*n.series.pie.label.threshold&&h(c[d],e,d),e+=c[d].angle;function h(e,r,c){if(0!=e.data[0][1]){var d,h=n.legend.labelFormatter,p=n.series.pie.label.formatter;d=h?h(e.label,e):e.label,p&&(d=p(d,e));var f=(r+e.angle+r)/2,g=s+Math.round(Math.cos(f)*i),m=l+Math.round(Math.sin(f)*i)*n.series.pie.tilt,x='<span class="pieLabel" id="pieLabel'+c+'" style="position:absolute;top:'+m+"px;left:"+g+'px;">'+d+"</span>";a.append(x);var b=a.children("#pieLabel"+c),v=m-b.height()/2,y=g-b.width()/2;if(b.css("top",v),b.css("left",y),(0-v>0||0-y>0||o.height-(v+b.height())<0||o.width-(y+b.width())<0)&&(u=!0),0!=n.series.pie.label.background.opacity){var k=n.series.pie.label.background.color;null==k&&(k=e.color);var w="top:"+v+"px;left:"+y+"px;";t('<div class="pieLabelBackground" style="position:absolute;width:'+b.width()+"px;height:"+b.height()+"px;"+w+"background-color:"+k+';"> </div>').insertBefore(b).css("opacity",n.series.pie.label.background.opacity)}}}}(),ctx.restore()}}function m(e){n.series.pie.innerRadius>0&&(e.save(),innerRadius=n.series.pie.innerRadius>1?n.series.pie.innerRadius:r*n.series.pie.innerRadius,e.globalCompositeOperation="destination-out",e.beginPath(),e.fillStyle=n.series.pie.stroke.color,e.arc(0,0,innerRadius,0,2*Math.PI,!1),e.fill(),e.closePath(),e.restore(),e.save(),e.beginPath(),e.strokeStyle=n.series.pie.stroke.color,e.arc(0,0,innerRadius,0,2*Math.PI,!1),e.stroke(),e.closePath(),e.restore())}function b(e,t){for(var i=!1,o=-1,n=e.length,a=n-1;++o<n;a=o)(e[o][1]<=t[1]&&t[1]<e[a][1]||e[a][1]<=t[1]&&t[1]<e[o][1])&&t[0]<(e[a][0]-e[o][0])*(t[1]-e[o][1])/(e[a][1]-e[o][1])+e[o][0]&&(i=!i);return i}function v(e){w("plothover",e)}function k(e){w("plotclick",e)}function w(t,i){var o=e.offset(),c=function(t,i){for(var o=e.getData(),n=e.getOptions(),a=n.series.pie.radius>1?n.series.pie.radius:r*n.series.pie.radius,c=0;c<o.length;++c){var u=o[c];if(u.pie.show){if(ctx.save(),ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,a,u.startAngle,u.startAngle+u.angle,!1),ctx.closePath(),x=t-s,y=i-l,ctx.isPointInPath){if(ctx.isPointInPath(t-s,i-l))return ctx.restore(),{datapoint:[u.percent,u.data],dataIndex:0,series:u,seriesIndex:c}}else if(p1X=a*Math.cos(u.startAngle),p1Y=a*Math.sin(u.startAngle),p2X=a*Math.cos(u.startAngle+u.angle/4),p2Y=a*Math.sin(u.startAngle+u.angle/4),p3X=a*Math.cos(u.startAngle+u.angle/2),p3Y=a*Math.sin(u.startAngle+u.angle/2),p4X=a*Math.cos(u.startAngle+u.angle/1.5),p4Y=a*Math.sin(u.startAngle+u.angle/1.5),p5X=a*Math.cos(u.startAngle+u.angle),p5Y=a*Math.sin(u.startAngle+u.angle),arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]],arrPoint=[x,y],b(arrPoly,arrPoint))return ctx.restore(),{datapoint:[u.percent,u.data],dataIndex:0,series:u,seriesIndex:c};ctx.restore()}}return null}(parseInt(i.pageX-o.left),parseInt(i.pageY-o.top));if(n.grid.autoHighlight)for(var u=0;u<p.length;++u){var d=p[u];d.auto!=t||c&&d.series==c.series||M(d.series)}c&&function(t,i){"number"==typeof t&&(t=series[t]);var o=T(t);-1==o?(p.push({series:t,auto:i}),e.triggerRedrawOverlay()):i||(p[o].auto=!1)}(c.series,t);var h={pageX:i.pageX,pageY:i.pageY};a.trigger(t,[h,c])}function M(t){null==t&&(p=[],e.triggerRedrawOverlay()),"number"==typeof t&&(t=series[t]);var i=T(t);-1!=i&&(p.splice(i,1),e.triggerRedrawOverlay())}function T(e){for(var t=0;t<p.length;++t)if(p[t].series==e)return t;return-1}function S(e,t){var o=e.getOptions(),n=o.series.pie.radius>1?o.series.pie.radius:r*o.series.pie.radius;for(t.save(),t.translate(s,l),t.scale(1,o.series.pie.tilt),i=0;i<p.length;++i)a(p[i].series);function a(e){e.angle<0||(t.fillStyle="rgba(255, 255, 255, "+o.series.pie.highlight.opacity+")",t.beginPath(),Math.abs(e.angle-2*Math.PI)>1e-9&&t.moveTo(0,0),t.arc(0,0,n,e.startAngle,e.startAngle+e.angle,!1),t.closePath(),t.fill())}m(t),t.restore()}e.hooks.processOptions.push((function(e,t){t.series.pie.show&&(t.grid.show=!1,"auto"==t.series.pie.label.show&&(t.legend.show?t.series.pie.label.show=!1:t.series.pie.label.show=!0),"auto"==t.series.pie.radius&&(t.series.pie.label.show?t.series.pie.radius=3/4:t.series.pie.radius=1),t.series.pie.tilt>1&&(t.series.pie.tilt=1),t.series.pie.tilt<0&&(t.series.pie.tilt=0),e.hooks.processDatapoints.push(f),e.hooks.drawOverlay.push(S),e.hooks.draw.push(g))})),e.hooks.bindEvents.push((function(e,t){var i=e.getOptions();i.series.pie.show&&i.grid.hoverable&&t.unbind("mousemove").mousemove(v),i.series.pie.show&&i.grid.clickable&&t.unbind("click").click(k)}))},options:n,name:"pie",version:"1.0"})}).call(this,o(0))}}]);
//# sourceMappingURL=graphs.3c3546c7c551930e1f19.js.map
// @license-end
